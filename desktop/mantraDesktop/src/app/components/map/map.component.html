<div class="filter">
  <app-filter (offersToMap)="this.offersUpdate($event)" (owhichToShow)="offersShow($event)"></app-filter>
</div>


<div class="wrapper">
  <div id="map"></div>
  <div class="info">
    <div class="infoHeader">
      <h1>Info</h1>
      <button (click)="closeInfo()" class="closeInfo">x</button>
    </div>

      <div *ngIf="this.offersToShow == null" class="car">
        <table *ngIf="carToShow">
          <tr class="tableHeader">
            <th>EČV</th>
            <th>STAV</th>
            <th>KONTAKT</th>
          </tr>

          <tr class="tablerow" >
            <td>{{carToShow.ecv}}</td>
            <td>{{this.routeStatusService.getStatus(carToShow.status)}}</td>
            <td>{{carToShow.phoneNumber}}</td>
          </tr>
        </table>

        <h2 *ngIf="routesToShow">Preprava</h2>
        <h2 *ngIf="!routesToShow && carToShow != undefined && carToShow.itinerar.length > 0">Itinerár</h2>
        <app-drag-and-drop-list class="dragDropList" *ngIf="carToShow || routesToShow" #dragDrop [draggable]="false">

        </app-drag-and-drop-list>


        <h4 *ngIf="carToShow == undefined && routesToShow == undefined">Kliknite na vozidlo, trasu, alebo bod na mape pre viac informácií.</h4>
        <h4 *ngIf="carToShow == undefined && routesToShow != undefined">Nepriradená trasa</h4>
<!--        <button class="buttonG" *ngIf="carToShow == undefined && routesToShow != undefined" (click)="openAddDialog(this.routesToShow[0], false, this.routesToShow[0].id)">-->
<!--          Priradiť autu</button>-->
      </div>


    <div *ngIf="this.offersToShow != null" class="offers">

      <h3>Celková vzialenosť: ~ {{this.distanceOfOffer}} km</h3>

      Vyberte vozidlo
      <app-choos-car-to-move (carOutput)="choosenCar($event)"></app-choos-car-to-move>
      <app-car-iti-detail (uspecnePriradenie)="otvorAuto($event)" (sendCarToPredpokad)="getPredpoklad($event)"></app-car-iti-detail>

<!--      <div class="routeWrapper" *ngFor="let route of offersToShow">-->
<!--              <ol>-->
<!--                <li class="debnaWrapper" *ngFor="let town of route.nameOfTowns; index as i">{{town}}-->
<!--                  <span *ngIf="route.type[i] == 'nakladka'" matTooltip="Nakládka" class="nakaldkaVykladka">N</span>-->
<!--                  <span *ngIf="route.type[i] == 'vykladka'" matTooltip="Vykládka" class="nakaldkaVykladka">V</span>-->
<!--                  <app-detail-img class="imageInRow" [address]="route.detailArray[i]"></app-detail-img>-->
<!--                  <span *ngIf="route.type[i] == 'nakladka'">+{{this.vypocitajVahuPreMesto(route.detailArray[i])}}t</span>-->
<!--                  <span *ngIf="route.type[i] == 'vykladka'">-{{this.vypocitajVahuPreMesto(route.detailArray[i])}}t</span>-->
<!--                </li>-->
<!--              </ol>-->


<!--        <button (click)="routeDetail(route)" routerLink="/view/offerDetail">Prejdi na ponuku</button>-->

<!--        <div *ngIf="this.offersToShow[0].zeleneAuta.length > 0 || this.offersToShow[0].zlteAuta.length > 0" class="freeCars">-->
<!--          <h1>Vhodné volne vozidlá</h1>-->
<!--          <div class="oneCar" *ngFor="let auto of this.offersToShow[0].zeleneAuta">-->
<!--            <span class="greenLabel">{{auto.ecv}}</span>-->
<!--          </div>-->

<!--          <div class="oneCar" *ngFor="let auto of this.offersToShow[0].zlteAuta">-->
<!--            <span class="yellowLabel">{{auto.ecv}}</span>-->
<!--          </div>-->
<!--        </div>-->

<!--        <div class="toRouteWrappers">-->
<!--          <h1 *ngIf="route.zelenePrepravy.length > 0">Vhodné prepravy</h1>-->

<!--          <div  *ngFor="let preprava of route.zelenePrepravy; index as i" class="oneRoute">-->
<!--            <div *ngFor="let myTown of preprava.nameOfTowns; index as iMesto">-->
<!--              <h3 class="tuSaVopcha" *ngIf="preprava.vopchaSa.poleMiestKdeSaVopcha.includes(iMesto); else elseBlock">{{myTown}}</h3>-->
<!--              <ng-template #elseBlock>{{myTown}}</ng-template>-->
<!--            </div>-->
<!--          </div>-->
<!--          <h1 *ngIf="route.zltePrepravy.length > 0">Povolene prekrocenie</h1>-->
<!--          <div  *ngFor="let preprava of route.zltePrepravy; index as i" class="oneRoute">-->
<!--            <div *ngFor="let myTown of preprava.nameOfTowns; index as iMesto">-->
<!--              <h3 class="tuSaVopchaYellow" *ngIf="preprava.vopchaSa.poleMiestKdeSaVopcha.includes(iMesto); else elseBlock">{{myTown}}</h3>-->
<!--              <ng-template #elseBlock>{{myTown}}</ng-template>-->
<!--            </div>-->
<!--          </div>-->


<!--        </div>-->
<!--      </div>-->
    </div>
  </div>
</div>

