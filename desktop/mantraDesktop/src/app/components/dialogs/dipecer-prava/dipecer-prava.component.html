<div >
  <h1 class="header">Dispečer</h1>


    <mat-horizontal-stepper linear #stepper>

      <mat-step>
        <ng-template matStepLabel>Udaje o dispecerovi</ng-template>
        <form class="wrap" [formGroup]="dispecerForm">

          <div class="inputWrapper">
          <mat-form-field appearance="standard" class="gridItem">
            <mat-label>Meno</mat-label>
            <input matInput type="text" formControlName="firstName" placeholder="Zadajte meno...">
            <mat-hint>Meno</mat-hint>
          </mat-form-field>


          <mat-form-field appearance="standard" class="gridItem">
            <mat-label>Priezvisko</mat-label>
            <input matInput type="text" formControlName="lastName" placeholder="Zadajte priezvisko...">
            <mat-hint>Priezvisko</mat-hint>
          </mat-form-field>


          <mat-form-field appearance="standard" class="gridItem">
            <mat-label>Email</mat-label>
            <input matInput type="text" formControlName="email" placeholder="Zadajte email...">
            <mat-error *ngIf="dispecerForm.invalid">{{getErrorMessage()}}</mat-error>
            <mat-hint>Email</mat-hint>
          </mat-form-field>

          <mat-form-field appearance="standard" class="gridItem">
            <mat-label>Tel cislo</mat-label>
            <input matInput type="text" formControlName="phoneNumber" placeholder="Zadajte tel...">
            <mat-hint>cislo</mat-hint>
          </mat-form-field>

          </div>

        </form>
      </mat-step>

      <mat-step>
        <ng-template matStepLabel>Prístup ku vozidlam</ng-template>
        <div class="carsWrapper">
          <mat-checkbox [(ngModel)]="allCars">Prístup ku všetkým vozidlám</mat-checkbox>
          <table mat-table [dataSource]="cars">
            <!-- Position Column -->
            <ng-container matColumnDef="ecv">
              <th mat-header-cell *matHeaderCellDef> ECV </th>
              <td mat-cell *matCellDef="let element"> {{element.ecv}} </td>
            </ng-container>

            <!-- Name Column -->
            <ng-container matColumnDef="prava">
              <th mat-header-cell *matHeaderCellDef> Práva </th>
              <td mat-cell *matCellDef="let element">
                <mat-checkbox [disabled]="allCars" (change)="catchChange(element.id)" [checked]="checkBox(element.id)"></mat-checkbox>
              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          </table>
        </div>
      </mat-step>


      <mat-step>
        <ng-template matStepLabel>Prístup k prívesom</ng-template>
        <div class="carsWrapper">
          <mat-checkbox [(ngModel)]="allPrives">Prístup ku všetkým privesom</mat-checkbox>
          <table mat-table [dataSource]="prives">
            <!-- Position Column -->
            <ng-container matColumnDef="ecv">
              <th mat-header-cell *matHeaderCellDef> ECV </th>
              <td mat-cell *matCellDef="let element"> {{element.ecv}} </td>
            </ng-container>

            <!-- Name Column -->
            <ng-container matColumnDef="prava">
              <th mat-header-cell *matHeaderCellDef> Práva </th>
              <td mat-cell *matCellDef="let element">
                <mat-checkbox [disabled]="allPrives" (change)="catchChangePrives(element.id)" [checked]="checkBoxPrives(element.id)"></mat-checkbox>
              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          </table>
        </div>
      </mat-step>

    </mat-horizontal-stepper>

  <button [disabled]="!dispecerForm.valid" type="submit" class="example_c" (click)="updateDispecer()">Potvrdit</button>
</div>
